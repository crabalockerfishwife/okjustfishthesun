<!doctype html>
<head>
  <script src="http://d3js.org/d3.v3.min.js" charset="utf-8"></script>
  <link rel="stylesheet" href="http://yui.yahooapis.com/pure/0.5.0/pure-min.css">
  <link rel="stylesheet" href="http://yui.yahooapis.com/pure/0.5.0/grids-responsive-min.css">
</head>
<div class="pure-menu pure-menu-open pure-menu-horizontal" style="position:fixed">
  <a href="/" class="pure-menu-heading">ZPaths</a>
  <ul class="pure-menu-list">
    <li><a href="/">Home</a></li>
    <li><a href="#about">About</a></li>
    <li><a href="#search">Search</a></li>
    <li><a href="#graphs">Graphs</a></li>
  </ul>
</div>
<div class="pure-g">
  <div class="pure-u-1-5"></div>
  <div class="pure-u-3-5">
    
    {% with messages = get_flashed_messages() %}
    {% if messages %}
    <ul class=flashes>
      {% for message in messages %}
      <li>{{ message }}</li>
      {% endfor %}
    </ul>
    {% endif %}
    {% endwith %}
    
    <div id="map"></div>

    
  </div>
  {% extends "base.html" %}
  {% block title %}
  Home
  {% endblock %}
  {% block styling %}
  body{
  position:absolute;
  top: 0; 
  left: 0;
  height:100%;
  width:100%
  }
  p{
  font-size:250% ;
  letter-spacing: 0em
  }
  
  #heatpage{
  height:100%;
  width:100%
  }
  #apage{
  height:100%;
  color:gray;
  font-size: 8px;
  text-align: center;
  margin: 100px 100px;
  }
  #about{
  font-size:24px;
  color:black;
  }
  #mainpage{
  background-image: url(../static/nyc.jpg); background-color: #99FF99;
  height:100%;
  width:100%
  }
  iframe{
  height:600px;
  width:100%
  }
  .bordered {
  border-style:solid;
  border-width : 1px;
  }
  {% endblock %}
  {% block script %}
  var logo;
  var svgdoc;
  var svg;

  window.onload=function(){
  logo = document.getElementById("logo");
  svgdoc = logo.contentDocument;
  svg = svgdoc.getElementById("svg2");
  svgdoc.getElementById("path3349").setAttribute("fill", "#808080");
  svgdoc.getElementById("path3353").setAttribute("fill", "000000");
  window.setTimeout("fillblack()",1000);
  window.setTimeout("fillgray()",2000);
  window.setTimeout("fillyellow()",4000);
  };

  function fillblack(){
  svgdoc.getElementById("path3349").setAttribute("fill", "#000000");
  };

  function fillgray(){
  svgdoc.getElementById("path3351").setAttribute("fill", "#808080");
  };

  function fillyellow(){
  svgdoc.getElementById("path3353").setAttribute("fill", "#ffff00");
  };


  var bardata = [
		{'label':'a','y':80},
		{'label':'b','y':20},
		{'label':'c','y':30},
		{'label':'d','y':65},
		{'label':'e','y':35},
		{'label':'f','y':48},
		{'label':'g','y':70},
];

var width=600,
		height=400,
		padding=20;

var maxY = d3.max(bardata,function(d){return d.y;})+padding;

var yScale = d3.scale.linear()
				.domain([0,maxY])
				.range([height,0]);

var xScale = d3.scale.linear()
				.domain([0,100])
				.range([0,width]);

var yAxis = d3.svg.axis().scale(yScale).orient("left");

var svg = d3.select("#graphs")
				.append("svg")
				.attr("width",width)
				.attr("height",height)
				.attr("id","svg")
				.classed("bordered",true)
				.append("g")
				.attr("transform","translate(40,-20)")
				.call(yAxis);

svg.selectAll(".bars")
		.data(bardata)
		.enter()
		.append("g")
		.classed("bars",true);

svg.selectAll(".bars")
		.append("rect")
		.attr("x",function(d,i){return xScale(i*10);})
		.attr("y",function(d){return yScale(d.y);})
		.attr("width",40)
		.attr("height",function(d){return height-yScale(d.y);})
		.attr("fill","#0000ff");

svg.selectAll(".bars")
		.append("text")
		.attr("x",function(d,i){return xScale(i*10);})
		.attr("y",function(d){return yScale(d.y);})
		.attr("font-family","sans-serif")
		.attr("font-size","15px")
		.attr("fill","#ff0000")
		.text(function(d){return d.y;});


svg.selectAll(".bars")
		.append("text")
		.attr("x",function(d,i){return xScale(i*10);})
		.attr("y",height-10)
		.attr("font-family","sans-serif")
		.attr("font-size","25px")
		.attr("fill","#f00f00")
		.attr("transform","translate(10,25)")
		.text(function(d){return d.label;});

  {% endblock %}
{% block bodycontent %}
  <div id="mainpage">
    <center>
      <div class="splash-container">
	<div class="splash">
          <h1 class="splash-head">
	    <object id="logo" data="../static/logo.svg" type="image/svg+xml"></object>
	  </h1>
	  <a name="search">
	<select>
	  <option id="subway">Subway Entraces</option>
	  <option id="collisions">Motor Vehicle
	Collisions</option>
	  <options id="foods">Directory of Eateries</option>
	  <option id="wifi">Wifi Hotspots</option>
	  <option id="Theaters">Theaters</option>
	  <option id="Libraries">Libraries</option>
	    </select> </a>
	    <br><br>
	    <input type="submit">
      </div>
      </div>
      </center>
  </div>


<div id="heatpage" style="height:100%; width:100%">
  <br><br><center>
  <a name="heat">
  <iframe  src="/heat"></iframe>
  </a>
</center>
</div>

<div>
<a name="graphs">
  <p>
  <text>d3 stuff</text>
  </p>
</a>
</div>
<div id="graphs"></div>

<br>
  <a name="about">
    <div id="apage">
      <p> 
	<text id="about">About</text>
	<br>
	<br>
	ZPaths is here to help you with your everyday New Yorker needs. Upon entering our site, you are given 10+ options to choose from for points of interest in the city: from subway entrances, to museums and galleries. We then return a heat map that displays the best areas in New York City to find those points of interest, as well as a bar graph displaying how common these ameneties are in each borough.
	<br><br>
	Created by Christina Ko, Justin Strauss, Fish Milnikiewicz, and Sunnam Quispe. 
      </p>
    </div>
  </a>
  {% endblock %}
</html>
